<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬åœ°å­—ä½“æµ‹è¯•</title>
    <link rel="stylesheet" href="fonts/material-symbols-rounded.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .icon-test {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin: 10px;
            padding: 10px;
            background: white;
            border-radius: 6px;
            border: 1px solid #eee;
        }
        
        .material-symbols-rounded {
            font-size: 24px;
            color: #4285f4;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .font-info {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª Material Symbols æœ¬åœ°å­—ä½“æµ‹è¯•</h1>
    
    <div id="status" class="status">æ­£åœ¨æ£€æµ‹å­—ä½“...</div>
    
    <div class="test-section">
        <h2>ğŸ“‹ å­—ä½“åŠ è½½ä¿¡æ¯</h2>
        <div id="font-info" class="font-info">
            <div>æ­£åœ¨æ£€æµ‹å­—ä½“åŠ è½½çŠ¶æ€...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ¯ å›¾æ ‡æ˜¾ç¤ºæµ‹è¯•</h2>
        <p>ä»¥ä¸‹æ˜¯é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¸»è¦å›¾æ ‡ï¼š</p>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">search</span>
            <span>search - æœç´¢</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">palette</span>
            <span>palette - è°ƒè‰²æ¿</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">grid_view</span>
            <span>grid_view - ç½‘æ ¼è§†å›¾</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">view_list</span>
            <span>view_list - åˆ—è¡¨è§†å›¾</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">add</span>
            <span>add - æ·»åŠ </span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">sync</span>
            <span>sync - åŒæ­¥</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">download</span>
            <span>download - ä¸‹è½½</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">expand_more</span>
            <span>expand_more - å±•å¼€</span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">cloud_upload</span>
            <span>cloud_upload - äº‘ä¸Šä¼ </span>
        </div>
        
        <div class="icon-test">
            <span class="material-symbols-rounded">settings</span>
            <span>settings - è®¾ç½®</span>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š æ€§èƒ½å¯¹æ¯”</h2>
        <div id="performance-info">
            <p><strong>æœ¬åœ°å­—ä½“ä¼˜åŠ¿ï¼š</strong></p>
            <ul>
                <li>âœ… æ— éœ€å¤–éƒ¨ç½‘ç»œè¯·æ±‚</li>
                <li>âœ… åŠ è½½é€Ÿåº¦æ›´å¿«</li>
                <li>âœ… ç¦»çº¿ç¯å¢ƒå¯ç”¨</li>
                <li>âœ… å‡å°‘DNSæŸ¥è¯¢</li>
                <li>âœ… é¿å…CORSé—®é¢˜</li>
            </ul>
        </div>
    </div>

    <script>
        // å­—ä½“æ£€æµ‹å’ŒçŠ¶æ€æ˜¾ç¤º
        function updateStatus(message, type = 'success') {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
        }
        
        function updateFontInfo(info) {
            const fontInfoEl = document.getElementById('font-info');
            fontInfoEl.innerHTML = info;
        }
        
        // æ£€æµ‹å­—ä½“æ˜¯å¦åŠ è½½æˆåŠŸ
        function checkFontLoading() {
            if ('fonts' in document) {
                document.fonts.ready.then(() => {
                    // åˆ›å»ºæµ‹è¯•å…ƒç´ 
                    const testElement = document.createElement('span');
                    testElement.className = 'material-symbols-rounded';
                    testElement.textContent = 'search';
                    testElement.style.position = 'absolute';
                    testElement.style.visibility = 'hidden';
                    testElement.style.fontSize = '24px';
                    document.body.appendChild(testElement);
                    
                    // è·å–è®¡ç®—æ ·å¼
                    const computedStyle = window.getComputedStyle(testElement);
                    const fontFamily = computedStyle.fontFamily;
                    const fontSize = computedStyle.fontSize;
                    
                    // æµ‹é‡å­—ç¬¦å®½åº¦
                    const rect = testElement.getBoundingClientRect();
                    const width = rect.width;
                    const height = rect.height;
                    
                    document.body.removeChild(testElement);
                    
                    // æ˜¾ç¤ºå­—ä½“ä¿¡æ¯
                    const fontInfo = `
                        <div><strong>å­—ä½“æ—:</strong> ${fontFamily}</div>
                        <div><strong>å­—ä½“å¤§å°:</strong> ${fontSize}</div>
                        <div><strong>å›¾æ ‡å°ºå¯¸:</strong> ${width.toFixed(1)}Ã—${height.toFixed(1)}px</div>
                        <div><strong>æ£€æµ‹æ—¶é—´:</strong> ${new Date().toLocaleTimeString()}</div>
                    `;
                    updateFontInfo(fontInfo);
                    
                    // åˆ¤æ–­å­—ä½“æ˜¯å¦æ­£å¸¸åŠ è½½
                    const hasMaterialFont = fontFamily.includes('Material Symbols Rounded');
                    const hasReasonableSize = width > 10 && width < 50;
                    
                    if (hasMaterialFont && hasReasonableSize) {
                        updateStatus('âœ… Material Symbols æœ¬åœ°å­—ä½“åŠ è½½æˆåŠŸï¼', 'success');
                        console.log('âœ… å­—ä½“æ£€æµ‹é€šè¿‡ - æœ¬åœ°å­—ä½“å·¥ä½œæ­£å¸¸');
                    } else {
                        updateStatus('âš ï¸ å­—ä½“å¯èƒ½æœªæ­£å¸¸åŠ è½½ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„', 'warning');
                        console.log('âš ï¸ å­—ä½“æ£€æµ‹å¤±è´¥ - å¯èƒ½éœ€è¦æ£€æŸ¥æ–‡ä»¶');
                    }
                });
            } else {
                updateStatus('âŒ æµè§ˆå™¨ä¸æ”¯æŒå­—ä½“æ£€æµ‹API', 'error');
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ£€æµ‹å­—ä½“
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(checkFontLoading, 100);
        });
        
        // ç›‘å¬å­—ä½“åŠ è½½äº‹ä»¶
        if ('fonts' in document) {
            document.fonts.addEventListener('loadingdone', () => {
                console.log('ğŸ“ å­—ä½“åŠ è½½å®Œæˆäº‹ä»¶è§¦å‘');
            });
            
            document.fonts.addEventListener('loadingerror', () => {
                console.log('âŒ å­—ä½“åŠ è½½é”™è¯¯äº‹ä»¶è§¦å‘');
                updateStatus('âŒ å­—ä½“åŠ è½½å¤±è´¥', 'error');
            });
        }
    </script>
</body>
</html>
